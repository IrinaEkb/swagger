(function(){var n,t={}.hasOwnProperty,i=function(n,i){function u(){this.constructor=n}for(var r in i)t.call(i,r)&&(n[r]=i[r]);return u.prototype=i.prototype,n.prototype=new u,n.__super__=i.prototype,n};n=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,n),t.prototype.dom_id="swagger_ui",t.prototype.options=null,t.prototype.api=null,t.prototype.headerView=null,t.prototype.mainView=null,t.prototype.initialize=function(n){var t=this;n==null&&(n={}),n.dom_id!=null&&(this.dom_id=n.dom_id,delete n.dom_id),$("#"+this.dom_id)!=null||$("body").append('<div id="'+this.dom_id+'"><\/div>'),this.options=n,this.options.success=function(){return t.render()},this.options.progress=function(n){return t.showMessage(n)},this.options.failure=function(n){return t.onLoadFailure(n)},this.headerView=new HeaderView({el:$("#header")});return this.headerView.on("update-swagger-ui",function(n){return t.updateSwaggerUi(n)})},t.prototype.updateSwaggerUi=function(n){return this.options.discoveryUrl=n.discoveryUrl,this.options.apiKey=n.apiKey,this.load()},t.prototype.load=function(){var n;return(n=this.mainView)!=null&&n.clear(),this.headerView.update(this.options.discoveryUrl,this.options.apiKey),this.api=new SwaggerApi(this.options)},t.prototype.render=function(){var n=this;this.showMessage("Finished Loading Resource Information. Rendering Swagger UI..."),this.mainView=new MainView({model:this.api,el:$("#"+this.dom_id)}).render(),this.showMessage();switch(this.options.docExpansion){case"full":Docs.expandOperationsForResource("");break;case"list":Docs.collapseOperationsForResource("")}if(this.options.onComplete)this.options.onComplete(this.api,this);return setTimeout(function(){return Docs.shebang()},400)},t.prototype.showMessage=function(n){return n==null&&(n=""),$("#message-bar").removeClass("message-fail"),$("#message-bar").addClass("message-success"),$("#message-bar").html(n)},t.prototype.onLoadFailure=function(n){var t;if(n==null&&(n=""),$("#message-bar").removeClass("message-success"),$("#message-bar").addClass("message-fail"),t=$("#message-bar").html(n),this.options.onFailure!=null)this.options.onFailure(n);return t},t}(Backbone.Router),window.SwaggerUi=n}).call(this)